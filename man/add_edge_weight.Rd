% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_edge_weight.R
\name{add_edge_weight}
\alias{add_edge_weight}
\title{Add Environmental Dissimilarity Weights to Graph Edges}
\usage{
add_edge_weight(g, id_col = NULL, variables = NULL)
}
\arguments{
\item{g}{A list containing:
\describe{
\item{graph}{An \code{igraph} object representing the network structure.}
\item{polygons}{An \code{sf} object containing environmental variables
for each node. Node order must correspond to graph vertices.}
}}

\item{id_col}{Character vector of column names of ID columns. If \code{NULL} (default),
it is assumed that none exist in \code{g$polygons}. These columns are removed prior
to weighting. This argument is commonly used in conjunction with \code{variables = NULL}.}

\item{variables}{Character vector of column names to use for calculating
environmental dissimilarity. If \code{NULL} (default), all non-geometry
columns in \code{g$polygons} are used.}
}
\value{
An \code{igraph} object with edge weights representing Euclidean
distances between neighboring nodes in scaled environmental space.
}
\description{
Calculates edge weights based on Euclidean distances between neighboring
nodes using scaled environmental variables, and returns a new igraph object
with weighted edges.
}
\details{
The function performs the following steps:
\enumerate{
\item Extracts the adjacency structure from the input graph
\item Converts to a \code{spdep} neighbors object
\item Scales (standardizes) the selected environmental variables
\item Calculates Euclidean distances between neighbors using \code{\link[spdep]{nbcosts}}
\item Constructs a new undirected graph with dissimilarity-weighted edges
}
}
\examples{
\dontrun{
# Assuming g is a list with graph and polygons components
g_weighted <- add_edge_weight(g)
g_weighted_subset <- add_edge_weight(g, variables = c("temp", "precip"))
}

}
\seealso{
\code{\link[spdep]{nbcosts}} for neighbor cost calculation,
\code{\link[igraph]{graph_from_data_frame}} for graph construction
}
